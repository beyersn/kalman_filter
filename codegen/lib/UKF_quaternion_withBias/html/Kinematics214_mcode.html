<!-- saved from url=(0014)about:internet -->
<pre class="code">
<span class="srcline"><span class="lineno"><a href="1,203" id="srcline203">203</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,204" id="srcline204">204</a></span><span class="line"><span class="keyword">function</span> <span class="var type1" id="S86T17U1203">results</span> = Kinematics(<span class="var type1" id="S87T17U1206">x</span>, <span class="var type1" id="S88T16U1207">I</span>, <span class="var type1" id="S89T1U1208">torque_c</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,205" id="srcline205">205</a></span><span class="line"><span class="mxinfo" id="T14:U5"><span class="var type1" id="S90T14U1211">q</span> = <span class="mxinfo" id="T14:U7"><span class="var type1" id="S87T17U1213">x</span>(<span class="mxinfo" id="T15:U9"><span class="mxinfo" id="T2:U10">1</span>:<span class="mxinfo" id="T2:U11">4</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,206" id="srcline206">206</a></span><span class="line"><span class="mxinfo" id="T1:U12"><span class="var type1" id="S91T1U1219">w</span> = <span class="mxinfo" id="T1:U14"><span class="var type1" id="S87T17U1221">x</span>(<span class="mxinfo" id="T16:U16"><span class="mxinfo" id="T2:U17">5</span>:<span class="mxinfo" id="T2:U18">7</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,207" id="srcline207">207</a></span><span class="line"><span class="mxinfo" id="T29:U19"><span class="var type1" id="S88T29U1227">I</span> = <span class="mxinfo" id="T29:U21">diag(<span class="var type1" id="S88T16U1230">I</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,208" id="srcline208">208</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,209" id="srcline209">209</a></span><span class="line"><span class="mxinfo" id="T14:U23"><span class="var type1" id="S93T14U1233">q_dot</span> = <span class="mxinfo" id="T14:U25"><span class="mxinfo" id="T30:U26"><span class="mxinfo" id="T2:U27">0.5</span>.*<span class="mxinfo" id="T30:U28">[<span class="mxinfo" id="T15:U29"><span class="mxinfo" id="T2:U30">0</span> <span class="mxinfo" id="T16:U31">-<span class="mxinfo" id="T16:U32"><span class="var type1" id="S91T1U1242">w</span>'</span></span></span>; <span class="mxinfo" id="T52:U34"><span class="var type1" id="S91T1U1244">w</span> <span class="mxinfo" id="T29:U36">-<span class="mxinfo" id="T29:U37"><span class="fcn" id="F160N10:B1247">skew_matrix</span>(<span class="var type1" id="S91T1U1248">w</span>)</span></span></span>]</span></span>*<span class="var type1" id="S90T14U1249">q</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,210" id="srcline210">210</a></span><span class="line"><span class="mxinfo" id="T1:U40"><span class="var type1" id="S95T1U1252">w_dot</span> = <span class="mxinfo" id="T1:U42"><span class="mxinfo" id="T29:U43"><span class="var type1" id="S88T29U1255">I</span>^(-1)</span>*(<span class="mxinfo" id="T1:U45"><span class="mxinfo" id="T1:U46"><span class="mxinfo" id="T29:U47">-<span class="mxinfo" id="T29:U48"><span class="fcn" id="F160N10:B1264">skew_matrix</span>(<span class="var type1" id="S91T1U1265">w</span>)</span></span>*(<span class="mxinfo" id="T1:U50"><span class="var type1" id="S88T29U1268">I</span>*<span class="var type1" id="S91T1U1269">w</span></span>)</span> + <span class="var type1" id="S89T1U1270">torque_c</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,211" id="srcline211">211</a></span><span class="line"><span class="mxinfo" id="T1:U54"><span class="var type1" id="S96T1U1273">w_bias_dot</span> = <span class="mxinfo" id="T1:U56">[<span class="mxinfo" id="T2:U57">0</span>; <span class="mxinfo" id="T2:U58">0</span>; <span class="mxinfo" id="T2:U59">0</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,212" id="srcline212">212</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,213" id="srcline213">213</a></span><span class="line"><span class="mxinfo" id="T17:U60"><span class="var type1" id="S86T17U1283">results</span> = <span class="mxinfo" id="T17:U62">[<span class="var type1" id="S93T14U1286">q_dot</span>; <span class="var type1" id="S95T1U1288">w_dot</span>; <span class="var type1" id="S96T1U1290">w_bias_dot</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,214" id="srcline214">214</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,215" id="srcline215">215</a></span><span class="line"></span></span>
</pre>
